---
title: "Previsão de Churn dos Clinetes"
author: 'Vinicius Limeira <br><span style = "font-size: 70%;"><br><a href="https://github.com/dteconometrics">`r fontawesome::fa("github", fill = "#282f6b")`</a>&nbsp; <a href="https://www.linkedin.com/in/vinicius-limeira-565117180/">`r fontawesome::fa("linkedin", fill = "#282f6b")`</a>&nbsp; <a href="mailto:vinicius.valenca75@gmail.com">`r fontawesome::fa("envelope", fill = "#282f6b")`</a>&nbsp; <a href="https://quarto.org/">`r fontawesome::fa("home", fill = "#282f6b")`</a></span>'
format: 
  revealjs:
    logo: "img/logo.png"
    width: 1600
    slide-number: true
    theme: [solarized, personalizacoes.scss]
    title-slide-attributes:
      #data-background-image: img/penguin-highway.jpg
      data-background-size: cover  
editor: visual
---

```{r setup, include=FALSE}
options(htmltools.dir.version = FALSE)
options(htmltools.preserve.raw = FALSE)
knitr::opts_chunk$set(
  echo = FALSE,
  warning   = FALSE,  # exibir avisos do console?
  message   = FALSE,  # exibir mensagens do console?
  dpi       = 300,    # resolução
  fig.align = "center"# alinhamento de imagens
  )


```

```{r utils}
## Pacotes 

## Pacotes utilizados nessa apresentação
library(tidyverse)
library(lubridate)
library(tstools)
library(sidrar)
library(zoo)
library(scales)
library(gridExtra)
library(tsibble)
library(timetk)
library(knitr)
library(kableExtra)
library(ggthemes)
library(plotly)
library(magrittr)


# Acumular  valores percentuais em 'n' janelas móveis
acum_i <- function(data, n){
  
  data_ma_n <- RcppRoll::roll_meanr(data, n)
  
  data_lag_n <- dplyr::lag(data_ma_n, n)
  
  data_acum_n = (((data_ma_n/data_lag_n)-1)*100)
  
  return(data_acum_n)
  
}




```


### Sumário Executivo {.smaller}

-   Sobre os Resultados<br><br>
    -   Aqui Vem o Texto <br><br>
    -    Aqui Vem o Texto <br><br>

## **Problema de Cancelamento** {.smaller}

:::::: columns
::: {.column width="40%"}
<br>

-   Aqui Vem o Texto

-   Aqui Vem o Texto
:::

:::: {.column width="60%"}
::: panel-tabset

### Proporção de Churn

```{r, echo=F, eval=T, results='markup', fig.width=8, fig.height=4, fig.align='center', out.width="1\\linewidth", warning=FALSE, message=FALSE, size='tiny'}

knitr::include_graphics("proporcao_churn.png")



```


### Distribuição 

```{r, echo=F, eval=T, results='markup', fig.width=8, fig.height=4, fig.align='center', out.width="1\\linewidth", warning=FALSE, message=FALSE, size='tiny'}

knitr::include_graphics("distribuicao_churn.png")

```

### Cancelamento pro estado

```{r, echo=F, eval=T, results='asis', fig.width=10, fig.height=8, fig.align='center', out.width="1\\linewidth", warning=FALSE, message=FALSE, size='tiny'}


knitr::include_graphics("cancelamento_estado.png")

```
:::
::::
::::::

## Cancelamento nas Lojas {.smaller}

Aqui vem o Texto:

:::::: columns
::: {.column width="50%"}
**Cancelamento por loja**

```{r, echo=F, eval=T, results='markup', fig.width=15, fig.height=6, fig.align='center', out.width="1\\linewidth", warning=FALSE, message=FALSE, size='tiny'}


knitr::include_graphics("cancelamento_por_loja.png")
```

Aqui vem o Texto
:::

:::: {.column width="50%"}
::: panel-tabset

## Evolução da taxa 

```{r, echo=F, eval=T, results='markup', fig.width=15, fig.height=6, fig.align='center', out.width="1\\linewidth", warning=FALSE, message=FALSE, size='tiny'}

knitr::include_graphics("evolucao.png")

```

## Propoção por cliente

```{r, echo=F, eval=T, results='markup', fig.width=15, fig.height=6, fig.align='center', out.width="1\\linewidth", warning=FALSE, message=FALSE, size='tiny'}

knitr::include_graphics("proporcao.png")

```
:::
::::
::::::

## **Dados Relevantes** {.smaller}

:::::: columns
::: {.column width="50%"}
<br>

-   Aqui Vem o Texto

-   Aqui Vem o Texto
:::

:::: {.column width="50%"}
::: panel-tabset
### Motivos

```{r, echo=F, eval=T, results='markup', fig.width=8, fig.height=4, fig.align='center', out.width="1\\linewidth", warning=FALSE, message=FALSE, size='tiny'}

knitr::include_graphics("motivos.png")



```

### Proporção 

```{r, echo=F, eval=T, results='markup', fig.width=8, fig.height=4, fig.align='center', out.width="1\\linewidth", warning=FALSE, message=FALSE, size='tiny'}

knitr::include_graphics("taxa_por_estado.png")

```

:::
::::
::::::

## Previsão e Ações {.smaller}

Aqui vem o Texto:

:::::: columns
::: {.column width="50%"}

Aqui vem o Texto
:::

:::: {.column width="50%"}
::: panel-tabset

## Previsão 
```{r, echo=F, eval=T, results='markup', fig.width=8, fig.height=4, fig.align='center', out.width="1\\linewidth", warning=FALSE, message=FALSE, size='tiny'}
# Dados das previsões
previsoes <- data.frame(
  `Período (Meses)` = c(3, 6, 9, 12),
  `Taxa de Churn Prevista (%)` = c(27.09, 28.38, 29.67, 30.96)
)

# Criar a tabela com kableExtra para formatação bonita
library(kableExtra)

previsoes %>%
  kbl(
    caption = "Tabela 1: Taxas de churn previstas para os próximos meses",
    col.names = c("Período (Meses)", "Taxa de Churn Prevista (%)"),
    align = "c"
  ) %>%
  kable_classic(full_width = FALSE, html_font = "Arial")

```


## Previsão 
```{r, echo=F, eval=T, results='markup', fig.width=8, fig.height=4, fig.align='center', out.width="1\\linewidth", warning=FALSE, message=FALSE, size='tiny'}

knitr::include_graphics("previsao.png")


```


:::
::::
::::::
